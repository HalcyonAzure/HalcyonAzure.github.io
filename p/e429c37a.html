<!DOCTYPE html><html lang="zh-CN" data-default-color-scheme="auto"><head><meta charset="UTF-8"><link rel="apple-touch-icon" sizes="76x76" href="/img/favicon-pic.png"><link rel="icon" href="/img/favicon-pic.png"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=5,shrink-to-fit=no"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="theme-color" content="#2f4154"><meta name="author" content="HalcyonAzure"><meta name="keywords" content=""><meta name="description" content="操作系统的作用  该部分博客为自己在学习《程序员的自我修养：链接、装载与库》的时候对于过去零碎知识点的一个整理和复盘，并非照搬原文，其中会加入一些自己的联想与理解，如有错误还请指出。  操作系统在计算机中主要有两个功能：   对硬件资源进行管理，让硬件尽可能高效的解决问题或执行操作   提供抽象的接口，以便于程序对计算机的硬件资源进行调用    CPU的调度 在计算机的使用过程中，需要消耗时间的"><meta property="og:type" content="article"><meta property="og:title" content="知识复盘：操作系统的作用"><meta property="og:url" content="https://halc.top/p/e429c37a"><meta property="og:site_name" content="Halcyon Zone"><meta property="og:description" content="操作系统的作用  该部分博客为自己在学习《程序员的自我修养：链接、装载与库》的时候对于过去零碎知识点的一个整理和复盘，并非照搬原文，其中会加入一些自己的联想与理解，如有错误还请指出。  操作系统在计算机中主要有两个功能：   对硬件资源进行管理，让硬件尽可能高效的解决问题或执行操作   提供抽象的接口，以便于程序对计算机的硬件资源进行调用    CPU的调度 在计算机的使用过程中，需要消耗时间的"><meta property="og:locale" content="zh_CN"><meta property="article:published_time" content="2023-10-20T18:03:00.000Z"><meta property="article:modified_time" content="2023-10-20T18:03:00.000Z"><meta property="article:author" content="HalcyonAzure"><meta property="article:tag" content="OS"><meta name="twitter:card" content="summary_large_image"><meta name="referrer" content="no-referrer-when-downgrade"><script async src="https://umami.azsyc.com/script.js" data-website-id="ab8bb282-3900-4ec9-a4dd-6076b4af581c"></script><title>知识复盘：操作系统的作用 - Halcyon Zone</title><link rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css"><link rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css"><link rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css"><link rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css"><link rel="stylesheet" href="//at.alicdn.com/t/c/font_1749284_5i9bdhy70f8.css"><link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css"><link rel="stylesheet" href="/css/main.css"><link id="highlight-css" rel="stylesheet" href="/css/highlight.css"><link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css"><link rel="stylesheet" href="/css/round.css"><script id="fluid-configs">var Fluid=window.Fluid||{};Fluid.ctx=Object.assign({},Fluid.ctx);var CONFIG={hostname:"halc.top",root:"/",version:"1.9.8",typing:{enable:!0,typeSpeed:70,cursorChar:"_",loop:!1,scope:[]},anchorjs:{enable:!0,element:"h1,h2,h3,h4,h5,h6",placement:"right",visible:"hover",icon:""},progressbar:{enable:!0,height_px:3,color:"#29d",options:{showSpinner:!1,trickleSpeed:100}},code_language:{enable:!0,default:"TEXT"},copy_btn:!0,image_caption:{enable:!0},image_zoom:{enable:!0,img_url_replace:["",""]},toc:{enable:!0,placement:"right",headingSelector:"h1,h2,h3,h4,h5,h6",collapseDepth:0},lazyload:{enable:!0,loading_img:"/img/loading.gif",onlypost:!1,offset_factor:2},web_analytics:{enable:!0,follow_dnt:!0,baidu:"c4f509f89fec4843f255dfb1ae66ca2b",google:null,tencent:{sid:null,cid:null},leancloud:{app_id:null,app_key:null,server_url:null,path:"window.location.pathname",ignore_local:!0},umami:{src:null,website_id:null,domains:null,start_time:"2024-01-01T00:00:00.000Z",token:null,api_server:null},gtag:null,woyaola:null,cnzz:null},search_path:"/local-search.xml",include_content_in_search:!0};if(CONFIG.web_analytics.follow_dnt){var dntVal=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack;Fluid.ctx.dnt=dntVal&&(dntVal.startsWith("1")||dntVal.startsWith("yes")||dntVal.startsWith("on"))}</script><script src="/js/utils.js"></script><script src="/js/color-schema.js"></script><script async>if(!Fluid.ctx.dnt){var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?c4f509f89fec4843f255dfb1ae66ca2b";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()}</script><meta name="generator" content="Hexo 7.3.0"><link rel="alternate" href="/atom.xml" title="Halcyon Zone" type="application/atom+xml">
</head><body><header><div class="header-inner" style="height:70vh"><nav id="navbar" class="navbar fixed-top navbar-expand-lg navbar-dark scrolling-navbar"><div class="container"><a class="navbar-brand" href="/"><strong>Halcyon</strong> </a><button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><div class="animated-icon"><span></span><span></span><span></span></div></button><div class="collapse navbar-collapse" id="navbarSupportedContent"><ul class="navbar-nav ml-auto text-center"><li class="nav-item"><a class="nav-link" href="/" target="_self"><i class="iconfont icon-home-fill"></i> <span>首页</span></a></li><li class="nav-item"><a class="nav-link" href="/archives/" target="_self"><i class="iconfont icon-archive-fill"></i> <span>归档</span></a></li><li class="nav-item"><a class="nav-link" href="/categories/" target="_self"><i class="iconfont icon-category-fill"></i> <span>分类</span></a></li><li class="nav-item"><a class="nav-link" href="/tags/" target="_self"><i class="iconfont icon-tags-fill"></i> <span>标签</span></a></li><li class="nav-item"><a class="nav-link" href="/about/" target="_self"><i class="iconfont icon-user-fill"></i> <span>关于</span></a></li><li class="nav-item"><a class="nav-link" href="/links/" target="_self"><i class="iconfont icon-link-fill"></i> <span>友链</span></a></li><li class="nav-item" id="search-btn"><a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search"><i class="iconfont icon-search"></i></a></li><li class="nav-item" id="color-toggle-btn"><a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle"><i class="iconfont icon-dark" id="color-toggle-icon"></i></a></li></ul></div></div></nav><div id="banner" class="banner" parallax="true" style="background:url(/img/post.png) no-repeat center center;background-size:cover"><div class="full-bg-img"><div class="mask flex-center" style="background-color:rgba(0,0,0,.3)"><div class="banner-text text-center fade-in-up"><div class="h2"><span id="subtitle" data-typed-text="知识复盘：操作系统的作用"></span></div><div class="mt-3"><span class="post-meta"><i class="iconfont icon-date-fill" aria-hidden="true"></i> <time datetime="2023-10-21 02:03" pubdate>2023年10月21日 凌晨</time></span></div><div class="mt-1"><span class="post-meta mr-2"><i class="iconfont icon-chart"></i>2.6k 字 </span><span class="post-meta mr-2"><i class="iconfont icon-clock-fill"></i>22 分钟 </span><span id="busuanzi_container_page_pv" style="display:none"><i class="iconfont icon-eye" aria-hidden="true"></i> <span id="busuanzi_value_page_pv"></span> 次</span></div></div></div></div></div></div></header><main><div class="container-fluid nopadding-x"><div class="row nomargin-x"><div class="side-col d-none d-lg-block col-lg-2"></div><div class="col-lg-8 nopadding-x-md"><div class="container nopadding-x-md" id="board-ctn"><div id="board"><article class="post-content mx-auto"><h1 id="seo-header">知识复盘：操作系统的作用</h1><div class="markdown-body"><h1 id="操作系统的作用"><a class="markdownIt-Anchor" href="#操作系统的作用"></a> 操作系统的作用</h1><blockquote><p>该部分博客为自己在学习《程序员的自我修养：链接、装载与库》的时候对于过去零碎知识点的一个整理和复盘，并非照搬原文，其中会加入一些自己的联想与理解，如有错误还请指出。</p></blockquote><p>操作系统在计算机中主要有两个功能：</p><ul><li><p>对硬件资源进行管理，让硬件尽可能高效的解决问题或执行操作</p></li><li><p>提供抽象的接口，以便于程序对计算机的硬件资源进行调用</p></li></ul><h2 id="cpu的调度"><a class="markdownIt-Anchor" href="#cpu的调度"></a> CPU的调度</h2><p>在计算机的使用过程中，需要消耗时间的任务部分大致可以分为两种情况：</p><ul><li>消耗CPU算力的计算密集型操作</li><li>需要等待设备响应处理的I/O密集型操作</li></ul><p>我们知道在计算机中有南桥和北桥两个概念，北桥连同了CPU等高速芯片，而南桥则负责了磁盘、鼠标、键盘等低速设备。因此我们可以抽象出一个结论：<strong>计算密集型操作</strong> 和 <strong>I/O密集型操作</strong> 是由不同的设备分别处理的。接下来对于操作系统调度分析则会都以这一前提条件进行分析。</p><h3 id="第一阶段多道程序-multiprogramming"><a class="markdownIt-Anchor" href="#第一阶段多道程序-multiprogramming"></a> 第一阶段：多道程序 Multiprogramming</h3><p>假设我们现在需要完成一个很复杂的数学问题，且假设完成这个数学问题分为两个步骤：</p><ol><li>在草稿纸上&quot;随意&quot;的打草稿并推演计算过程，最终计算出答案（计算密集型操作）</li><li>将整个推演过程有条理并工整的誊抄在答卷上，便于他人阅读自己的答案（I/O密集型操作）</li></ol><p>那么如果我们有很多个这样的题目需要完成。那么最高效的方法自然是分配两个同学A和B。假设同学A的计算能力很强，同学B的书写则十分端正，同时可以看懂同学A的草稿，那么我们便可以让同学A只需要负责计算和打草稿，只要做完了第一题就直接开始写第二题，而同学B则在同学A开始计算第二题的过程中开始誊抄第一题的答案。这样便可以让同学A和同学B的时间都统筹利用起来，以此提升效率。</p><p>在计算机中也是同样的道理。在计算机刚刚发展的时候，每次执行一个任务都需要先让CPU计算完后，CPU还要等待诸如打印机等设备输出了结果以后，再进行下一个问题的计算。</p><p>为了解决这个问题，人们便想到使用一个监控程序来监管CPU的运算，当监控程序发现在CPU进行完毕某一次运算以后，如果后续还有其他问题需要使用CPU进行计算的话，则让CPU直接进行下一个问题的计算，而不是等待第一个问题的I/O操作进行完毕以后再进行第二个问题的计算。这就是多道程序的雏形</p><h3 id="第二阶段分时系统-time-sharing-system"><a class="markdownIt-Anchor" href="#第二阶段分时系统-time-sharing-system"></a> 第二阶段：分时系统 Time-Sharing System</h3><p>但是随着计算机功能的逐步发展，多道程序则体现出了一个弊端：那就是任务的执行需要所有人都依次排队，前面的人如果没有解决他的问题就轮不到下一个人。</p><p>假设在银行中有一个人的业务处理需要花费特别特别长的时间，从而导致后面所有人直到银行下班都没完成自己的业务，这无疑是非常令人恼火的一件事情。但是如果这个人将自己的一个任务拆分成多个不同的部分，每完成一个部分就让后面的人先处理下，这样相对而言就能顾及他人的感受，有利于提高处理问题数量的效率。</p><p>因此，我们就了分时系统的概念，在分时系统中，程序可以通过在编写的时候主动调用某个“系统调用”来实现通知操作系统我现在这部分的工作已经完成了一部分，如果后面有其他任务需要执行的话可以先执行其他的任务，再来执行我的任务。从而在一定程度上解决了阻塞问题。</p><h3 id="第三阶段-多任务系统-multi-tasking"><a class="markdownIt-Anchor" href="#第三阶段-多任务系统-multi-tasking"></a> 第三阶段： 多任务系统 Multi-tasking</h3><p>但是分时系统在计算机的衍变过程中也展现出了自己的弊端。</p><p>依据以下两个<strong>分时系统</strong>的特点：</p><ul><li>是否让出CPU是由程序自身决定的。程序需要主动调用特定的系统调用来通知操作系统它愿意让出CPU。</li><li>这种机制的问题是，如果一个程序不主动让出CPU（例如，由于编程错误或恶意行为），那么操作系统不能强制地从该程序中夺回CPU控制权。因此，其他程序可能会被迫等待，导致整个系统的响应性下降。</li></ul><p>假设我们遇到一个程序员在程序中忘记调用分时的“系统调用”，还写了一个死循环的错误代码。那么整个操作系统都将会因为这个问题而出现宕机。</p><p>由此我们就需要一个更高端的操作系统来解决我们的问题，即现代操作系统的解决方案：多任务系统。</p><p><strong>多任务系统</strong>的基础是建立在此时操作系统对所有硬件资源进行了直接的接管。而所有的应用程序都以进程（Process）的方式运行在操作系统这个大Boss之下。所有进程的调度都需要受到操作系统的管理，并且每个进程和进程之间就像是一个小房间，他们的地址空间也都是相互隔离且独立的。</p><p>在这种情况下，CPU就变成了操作系统大Boss来进行管理的一个资源，而不是和之前分时系统一样由应用自己直接对CPU进行管理了。这样的好处是可以让所有程序都听操作系统这个领导的话，而不是和之前一样我想一直占用CPU就一直占用，如果我不调用接口主动释放CPU你们谁都别想用上CPU。</p><p>对于操作系统来说，每个进程就是一个任务，每个任务则又有自己的任务优先级。对于优先级高的任务，操作系统会先进行；对优先级低的任务则后执行。如果一个进程的运行时间超过了某个限制，则会将该程序暂停以分配给其他同时间内也许更需要CPU资源的线程任务。</p><p>在此基础上还会牵扯到一些诸如多级反馈队列、上下文切换开销等问题。这里就不做过多的展开。</p><blockquote><p>这里放一个之前写OSTEP课后实验相关的博客链接，便于自己查阅</p><ul><li><a href="https://halc.top/p/b7974b6">操作系统：通过多级反馈的调度策略 - Halcyon Zone</a></li><li><a href="https://halc.top/p/4b65fa48">操作系统：程序上下文切换的开销 - Halcyon Zone</a></li></ul></blockquote><h2 id="设备驱动"><a class="markdownIt-Anchor" href="#设备驱动"></a> 设备驱动</h2><blockquote><p>有关于设备驱动的内容直接概述过于枯燥无味，因此下面这段解释为使用 GPT-4 生成的一个概述，觉得生动有趣就搬上来了</p></blockquote><p>想象一下，你正在玩一个超级复杂的电子游戏，但你只需要按下一个按钮，就能完成一个复杂的动作，比如打怪兽或跳跃。这个按钮就像是操作系统，而那些复杂的动作就是硬件的操作。你不需要知道每一个细节，只需要按下按钮，游戏就会为你完成所有的事情。</p><p>操作系统就是这样的“神奇按钮”。它位于硬件之上，为上层的应用程序提供了一个统一的方式来访问硬件。想象一下，如果每次你想在屏幕上画一条线，都需要知道你的电脑使用的是什么显卡、屏幕的大小和分辨率，然后写一大堆复杂的代码。这听起来很麻烦，对吧？但是，有了操作系统，你只需要调用一个简单的函数，比如<code>LineTo()</code>，然后操作系统会为你处理所有的细节。</p><p>在操作系统的早期，程序员确实需要直接与硬件交互，这是一件非常繁琐和复杂的事情。但随着时间的发展，操作系统逐渐成熟，它开始为程序员提供了一系列的“抽象”概念，使得程序员可以更加轻松地开发应用程序，而不需要关心硬件的细节。比如，在UNIX系统中，访问硬件设备就像访问普通文件一样简单；在Windows系统中，图形和声音设备被抽象成了特定的对象。</p><p>但是，谁来处理这些复杂的硬件操作呢？答案是：<strong>硬件驱动程序</strong>。它们是<strong>操作系统的一部分</strong>，专门负责与特定的硬件设备交互。这些驱动程序通常由硬件制造商开发，而操作系统提供了一系列的接口和框架，使得这些驱动程序可以在操作系统上运行。</p><p>最后，让我们以读取文件为例。当你想读取一个文件时，你不需要知道这个文件在硬盘上的具体位置。你只需要告诉操作系统你想读取的文件名，然后操作系统会找到这个文件在硬盘上的位置，读取它，并将数据返回给你。这一切都是由文件系统和硬盘驱动程序共同完成的。</p><p>总之，操作系统就像是一个超级英雄，它为我们处理了所有复杂的硬件操作，使得我们可以更加轻松地开发和使用计算机程序。</p></div><hr><div><div class="post-metas my-3"><div class="post-meta mr-3 d-flex align-items-center"><i class="iconfont icon-category"></i> <span class="category-chains"><span class="category-chain"><a href="/categories/%E7%9F%A5%E8%AF%86%E8%AE%B0%E5%BD%95/" class="category-chain-item">知识记录</a></span></span></div><div class="post-meta"><i class="iconfont icon-tags"></i> <a href="/tags/OS/" class="print-no-link">#OS</a></div></div><div class="license-box my-3"><div class="license-title"><div>知识复盘：操作系统的作用</div><div>https://halc.top/p/e429c37a</div></div><div class="license-meta"><div class="license-meta-item"><div>作者</div><div>HalcyonAzure</div></div><div class="license-meta-item license-meta-date"><div>发布于</div><div>2023年10月21日</div></div><div class="license-meta-item"><div>许可协议</div><div><a class="print-no-link" target="_blank" href="https://creativecommons.org/licenses/by/4.0/"><span class="hint--top hint--rounded" aria-label="BY - 署名"><i class="iconfont icon-cc-by"></i></span></a></div></div></div><div class="license-icon iconfont"></div></div><div class="post-prevnext my-3"><article class="post-prev col-6"><a href="/p/4416e368" title="虚拟化：初识IOMMU（TODO）"><i class="iconfont icon-arrowleft"></i> <span class="hidden-mobile">虚拟化：初识IOMMU（TODO）</span> <span class="visible-mobile">上一篇</span></a></article><article class="post-next col-6"><a href="/p/23c3db21" title="DNS问题排查思路"><span class="hidden-mobile">DNS问题排查思路</span> <span class="visible-mobile">下一篇</span> <i class="iconfont icon-arrowright"></i></a></article></div></div><article id="comments" lazyload><script type="text/javascript">Fluid.utils.loadComments("#comments",(function(){var t=document.documentElement.getAttribute("data-user-color-scheme");t="dark"===t?"github-dark":"github-light",window.UtterancesThemeLight="github-light",window.UtterancesThemeDark="github-dark";var e=document.createElement("script");e.setAttribute("src","https://utteranc.es/client.js"),e.setAttribute("repo","HalcyonAzure/HalcyonAzure.github.io"),e.setAttribute("issue-term","title"),e.setAttribute("label","blog commit"),e.setAttribute("theme",t),e.setAttribute("crossorigin","anonymous"),document.getElementById("comments").appendChild(e)}))</script><noscript>Please enable JavaScript to view the comments</noscript></article></article></div></div></div><div class="side-col d-none d-lg-block col-lg-2"><aside class="sidebar" style="margin-left:-1rem"><div id="toc"><p class="toc-header"><i class="iconfont icon-list"></i> <span>目录</span></p><div class="toc-body" id="toc-body"></div></div></aside></div></div></div><a id="scroll-top-button" aria-label="TOP" href="#" role="button"><i class="iconfont icon-arrowup" aria-hidden="true"></i></a><div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable modal-lg" role="document"><div class="modal-content"><div class="modal-header text-center"><h4 class="modal-title w-100 font-weight-bold">搜索</h4><button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button></div><div class="modal-body mx-3"><div class="md-form mb-5"><input type="text" id="local-search-input" class="form-control validate"> <label data-error="x" data-success="v" for="local-search-input">关键词</label></div><div class="list-group" id="local-search-result"></div></div></div></div></div></main><footer><div class="footer-inner"><div class="footer-content"><a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a><div><span id="timeDate">载入天数...</span> <span id="times">载入时分秒...</span><script src="/js/duration.js"></script></div></div><div class="statistics"><span id="busuanzi_container_site_pv" style="display:none">总访问量 <span id="busuanzi_value_site_pv"></span> 次 </span><span id="busuanzi_container_site_uv" style="display:none">总访客数 <span id="busuanzi_value_site_uv"></span> 人</span></div></div></footer><script src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js"></script><link rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css"><script>NProgress.configure({showSpinner:!1,trickleSpeed:100}),NProgress.start(),window.addEventListener("load",(function(){NProgress.done()}))</script><script src="https://lib.baomitu.com/jquery/3.6.0/jquery.min.js"></script><script src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js"></script><script src="/js/events.js"></script><script src="/js/plugins.js"></script><script src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js"></script><script>!function(t,e){var i=Fluid.plugins.typing,n=e.getElementById("subtitle");n&&i&&i(n.getAttribute("data-typed-text"))}(window,document)</script><script src="/js/img-lazyload.js"></script><script>Fluid.utils.createScript("https://lib.baomitu.com/tocbot/4.18.0/tocbot.min.js",(function(){var t=jQuery("#toc");if(0!==t.length&&window.tocbot){var i=jQuery("#board-ctn").offset().top;window.tocbot.init(Object.assign({tocSelector:"#toc-body",contentSelector:".markdown-body",linkClass:"tocbot-link",activeLinkClass:"tocbot-active-link",listClass:"tocbot-list",isCollapsedClass:"tocbot-is-collapsed",collapsibleClass:"tocbot-is-collapsible",scrollSmooth:!0,includeTitleTags:!0,headingsOffset:-i},CONFIG.toc)),t.find(".toc-list-item").length>0&&t.css("visibility","visible"),Fluid.events.registerRefreshCallback((function(){if("tocbot"in window){tocbot.refresh();var t=jQuery("#toc");if(0===t.length||!tocbot)return;t.find(".toc-list-item").length>0&&t.css("visibility","visible")}}))}}))</script><script src="https://lib.baomitu.com/clipboard.js/2.0.10/clipboard.min.js"></script><script>Fluid.plugins.codeWidget()</script><script>Fluid.utils.createScript("https://lib.baomitu.com/anchor-js/4.3.1/anchor.min.js",(function(){window.anchors.options={placement:CONFIG.anchorjs.placement,visible:CONFIG.anchorjs.visible},CONFIG.anchorjs.icon&&(window.anchors.options.icon=CONFIG.anchorjs.icon);var n=(CONFIG.anchorjs.element||"h1,h2,h3,h4,h5,h6").split(","),o=[];for(var s of n)o.push(".markdown-body > "+s.trim());"left"===CONFIG.anchorjs.placement&&(window.anchors.options.class="anchorjs-link-left"),window.anchors.add(o.join(", ")),Fluid.events.registerRefreshCallback((function(){if("anchors"in window){anchors.removeAll();var n=(CONFIG.anchorjs.element||"h1,h2,h3,h4,h5,h6").split(","),o=[];for(var s of n)o.push(".markdown-body > "+s.trim());"left"===CONFIG.anchorjs.placement&&(anchors.options.class="anchorjs-link-left"),anchors.add(o.join(", "))}}))}))</script><script>Fluid.utils.createScript("https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js",(function(){Fluid.plugins.fancyBox()}))</script><script>Fluid.plugins.imageCaption()</script><script src="/js/local-search.js"></script><script defer src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="/js/DynamicLine.js"></script><script src="/js/boot.js"></script><noscript><div class="noscript-warning">博客在允许 JavaScript 运行的环境下浏览效果更佳</div></noscript></body></html>